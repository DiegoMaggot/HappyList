<ion-header>
    <ion-toolbar color="primary">
        <ion-title>Produtos</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="add()">
                <ion-icon slot="icon-only" name="add" color="light"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-searchbar (input)="search($event)" placeholder="buscar"></ion-searchbar>
    <ion-list>
        <ion-card class="centralized" *ngFor="let product of products" no-padding>
            <div class="image"><img src={{getImage(product)}}></div>
            <div class="card-content">
                <ion-item lines="none">
                    <button mat-icon-button slot="end" [matMenuTriggerFor]="menu">
                            <mat-icon>more_vert</mat-icon>
                        </button>
                    <mat-menu #menu="matMenu">
                        <button mat-menu-item (click)="edit(product)">
                                <mat-icon>create</mat-icon>
                                <span>Editar</span>
                            </button>
                        <button mat-menu-item (click)="remove(product.uid)">
                                <mat-icon>delete</mat-icon>
                                <span>Remover</span>
                            </button>
                    </mat-menu>
                    <ion-label length="12">
                        {{product.name}}
                        <p>{{product.category}}</p>
                    </ion-label>
                </ion-item>
                <ion-item style="margin-top: -14px;">
                    <ion-label>
                        <p>R$ {{product.price}}</p>
                        <p>{{product.weight}}{{product.measureUnit}}</p>
                    </ion-label>
                </ion-item>
            </div>
        </ion-card>
    </ion-list>
</ion-content>